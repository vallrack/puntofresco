{
  "entities": {
    "usuario": {
      "title": "Usuario",
      "description": "Representa un usuario del sistema.",
      "type": "object",
      "properties": {
        "email": {
          "type": "string",
          "format": "email",
          "description": "Correo electrónico del usuario."
        },
        "password": {
          "type": "string",
          "description": "Contraseña para el nuevo usuario (solo para la creación)."
        },
        "rol": {
          "type": "string",
          "description": "Rol del usuario en el sistema.",
          "enum": [
            "super_admin",
            "admin",
            "vendedor"
          ]
        }
      },
      "required": [
        "email",
        "rol"
      ]
    },
    "producto": {
      "title": "Producto",
      "description": "Representa un producto en el inventario.",
      "type": "object",
      "properties": {
        "nombre": {
          "type": "string"
        },
        "sku": {
          "type": "string",
          "description": "SKU o código de barras del producto."
        },
        "precioCompra": {
          "type": "number"
        },
        "precioVenta": {
          "type": "number"
        },
        "stock": {
          "type": "number"
        },
        "stockMinimo": {
          "type": "number"
        },
        "categoria": {
          "type": "string"
        },
        "imageUrl": {
          "type": "string"
        },
        "imageHint": {
          "type": "string"
        },
        "creadoPor": {
          "type": "string",
          "description": "ID del usuario que creó el producto."
        },
        "actualizadoPor": {
          "type": "string",
          "description": "ID del usuario que realizó la última actualización."
        },
        "fechaCreacion": {
          "type": "string",
          "format": "date-time",
          "description": "Fecha de creación del producto."
        },
        "fechaActualizacion": {
          "type": "string",
          "format": "date-time",
          "description": "Fecha de la última actualización."
        }
      },
      "required": [
        "nombre",
        "sku",
        "precioVenta",
        "stock",
        "precioCompra",
        "stockMinimo",
        "categoria",
        "imageUrl"
      ]
    },
    "venta": {
      "title": "Venta",
      "description": "Representa una transacción de venta.",
      "type": "object",
      "properties": {
        "vendedorId": {
          "type": "string",
          "description": "ID del usuario que realizó la venta."
        },
        "fecha": {
          "type": "string",
          "format": "date-time",
          "description": "Fecha y hora de la venta."
        },
        "items": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "productId": { "type": "string" },
              "nombre": { "type": "string" },
              "quantity": { "type": "number" },
              "precioVenta": { "type": "number" }
            }
          }
        },
        "total": {
          "type": "number"
        },
        "metodoPago": {
          "type": "string",
          "description": "Método utilizado para el pago de la venta.",
          "enum": ["Efectivo", "Tarjeta", "Transferencia"]
        }
      },
      "required": [
        "vendedorId",
        "fecha",
        "items",
        "total",
        "metodoPago"
      ]
    },
    "compra": {
      "title": "Compra",
      "description": "Representa una compra a un proveedor.",
      "type": "object",
      "properties": {}
    },
    "reporte_financiero": {
      "title": "Reporte Financiero",
      "description": "Representa un reporte financiero.",
      "type": "object",
      "properties": {}
    },
    "categoria": {
      "title": "Categoría",
      "description": "Categoría de un producto.",
      "type": "object",
      "properties": {
        "nombre": {
          "type": "string",
          "description": "Nombre de la categoría."
        }
      },
      "required": [
        "nombre"
      ]
    }
  },
  "auth": {
    "providers": [
      "email"
    ]
  },
  "firestore": {
    "/usuarios/{userId}": {
      "schema": {
        "$ref": "#/entities/usuario"
      },
      "description": "Almacena los perfiles de los usuarios del sistema, incluyendo su rol."
    },
    "/productos/{productoId}": {
      "schema": {
        "$ref": "#/entities/producto"
      },
      "description": "Contiene el catálogo de todos los productos disponibles para la venta."
    },
    "/ventas/{ventaId}": {
      "schema": {
        "$ref": "#/entities/venta"
      },
      "description": "Registra cada transacción de venta realizada en el punto de venta."
    },
    "/compras/{compraId}": {
      "schema": {
        "$ref": "#/entities/compra"
      },
      "description": "Almacena los registros de las compras realizadas a proveedores."
    },
    "/reportes_financieros/{reporteId}": {
      "schema": {
        "$ref": "#/entities/reporte_financiero"
      },
      "description": "Guarda los reportes financieros generados."
    },
    "/categorias/{categoriaId}": {
      "schema": {
        "$ref": "#/entities/categoria"
      },
      "description": "Almacena las categorías de los productos."
    }
  }
}
